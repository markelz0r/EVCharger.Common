syntax = "proto3";
import "Commands/Commands.proto";

service Heartbeat {
  rpc SendHeartbeat (HeartbeatMessage) returns (stream HeartbeatReply) {}
}

message HeartbeatMessage {
  string chargerId = 1;
  optional string sessionId = 2;
  optional double energyUsed = 3;
  
  enum Status {Ready = 0; Busy = 1; Failure = 2;}
}

message HeartbeatReply {
  optional StopChargingCommand stopChargingCommand = 1;
  optional StartChargingCommand startChargingCommand = 2;
}

